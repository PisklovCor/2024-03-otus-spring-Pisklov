databaseChangeLog:
  - changeSet:
      id: 2024-05-05--0004-books_genres
      author: pisklov
      changes:
       - createTable:
          tableName: books_genres
          columns:
            - column:
                name: book_id
                type: bigint
                constraints:
                  nullable: false
                  foreignKeyName: fk_books_id
                  referencedTableName: books
                  referencedColumnNames: id
                  deleteCascade: true
            - column:
                name: genre_id
                type: bigint
                constraints:
                  nullable: false
                  foreignKeyName: fk_genres_id
                  referencedTableName: genres
                  referencedColumnNames: id
                  deleteCascade: true
  -  changeSet:
       id: 2024-05-05--0004-books_genres_pk
       author: pisklov
       changes:
         - addPrimaryKey:
             columnNames: book_id, genre_id
             constraintName: pk_books_genres
             schemaName: public
             tableName: books_genres
             validate: true